frida.md

# frida-box

Some useful scripts to use with frida tool.

WIP

## Table of Contents

<details>
<summary>Android</summary>

* [`List Classes`](#list-classes)

</details>

<details>
<summary>iOS</summary>



</details>

### Android


#### List Classes

```js
function enumAllClasses()
{
	var allClasses = [];
	var classes = Java.enumerateLoadedClassesSync();

	classes.forEach(function(aClass) {
		try {
			var className = aClass.match(/[L](.*);/)[1].replace(/\//g, ".");
		}
		catch(err) {} 
		allClasses.push(className);
	});

	return allClasses;
}

// find all Java classes that match a pattern
function findClasses(pattern)
{
	var allClasses = enumAllClasses();
	var foundClasses = [];

	allClasses.forEach(function(aClass) {
		try {
			if (aClass.match(pattern)) {
				foundClasses.push(aClass);
			}
		}
		catch(err) {} 
	});

	return foundClasses;
}

// enumerate all methods declared in a Java class
function enumMethods(targetClass)
{
	var hook = Java.use(targetClass);
	var ownMethods = hook.class.getDeclaredMethods();
	hook.$dispose;

	return ownMethods;
}

setTimeout(function() { 

	Java.perform(function() {

		// enumerate all classes
		
	/*	var a = enumAllClasses();
		a.forEach(function(s) { 
			console.log(s); 
		});*/
		

		// find classes that match a pattern
		
		// var a = findClasses(/rooted/i);
		// a.forEach(function(s) { 
		// 	console.log(s); 
		// });
		

	});
}, 0);
```



## Credit

* https://github.com/dweinstein/awesome-frida